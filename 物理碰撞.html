<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        body {
            margin: 0;
        }

        canvas {
            display: block;
            background-color: pink;
        }
    </style>
</head>

<body>
    <canvas></canvas>
    <script>
        let canvasObj = document.querySelector('canvas')
        let w, h
        ~~function () {
            w = window.innerWidth;
            h = window.innerHeight;
            canvasObj.width = w;
            canvasObj.height = h;
            if (!window.onresize) {
                window.onresize = arguments.callee
            }
        }()

        canCtx = canvasObj.getContext('2d');
        let x = 233, y = 233, r = 60
        let vx = 5, vy = 5
        // let red ,g ,b
        // function radomRgb(){
        //     red = Math.floor(Math.random()*255);
        //     g = Math.floor(Math.random()*255);
        //     b = Math.floor(Math.random()*255);
        //     return 'rgb(' + red + ',' + g + ',' + b + ')'
        // }
        function animate() {
            canCtx.clearRect(0, 0, w, h)
            canCtx.beginPath()
            // canCtx.fillStyle = radomRgb();

            if (x < r || x + r > w) {
                vx = - vx
            }
            if (y < r || y + r > h) {
                vy = - vy
            }
            x = x + vx;
            y = y + vy;
            console.log('y', y);
            console.log('vy', y);


            canCtx.arc(x, y, r, 0, Math.PI * 2)
            canCtx.fill()
            window.requestAnimationFrame(animate)
        }
        animate()
    </script>
</body>

</html>